@page "/failure"
@inject NavigationManager Navigation
@using Microsoft.AspNetCore.WebUtilities
@using Alquileres_Express.Aplicacion.Servicios;
@inject ServicioVerificarPago servicioVerificarPago

@code {

    [SupplyParameterFromQuery]
    public string preference_id { get; set; } = "";

    protected override void OnInitialized()
    {
        if (
        servicioVerificarPago.RechazarPago(preference_id)

        )
        {
            Navigation.NavigateTo($"/?mensaje=Pago rechazado&EsMensajeDeError=true");
        }
        Navigation.NavigateTo($"/");

    }
}