@page "/pending"
@inject NavigationManager Navigation
@using Microsoft.AspNetCore.WebUtilities
@using Alquileres_Express.Aplicacion.Servicios;
@inject ServicioVerificarPago servicioVerificarPago

@code {

    [SupplyParameterFromQuery]
    public string preference_id { get; set; } = "";

    protected override void OnInitialized()
    {
        if (
        servicioVerificarPago.AprobarPago(preference_id)
        )
        {
            Navigation.NavigateTo($"/?mensaje=Pago aprobado");
        }
        Navigation.NavigateTo($"/Pago no encontrado", true);

    }
}